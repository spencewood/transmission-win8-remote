<!DOCTYPE html>
<html ng-app="app">
<head>
    <meta charset="utf-8" />
    <title>Transmission</title>

    <!-- WinJS references -->
    <link href="//Microsoft.WinJS.2.0/css/ui-light.css" rel="stylesheet" />
    <script src="//Microsoft.WinJS.2.0/js/base.js"></script>
    <script src="//Microsoft.WinJS.2.0/js/ui.js"></script>
    <script src="/js/lib/jquery-2.0.3.js"></script>
    <script type="text/javascript">
        jQuery.isUnsafe = true;
    </script>
    <script src="/js/lib/angular.js"></script>
    <script src="/js/lib/angular-route.js"></script>
    <!--<script src="/js/lib/angular-winjs.js"></script>-->
    <script src="/js/lib/lodash.min.js"></script>
    <!--<script src="/js/util/lodash-mixins.js"></script>-->

    <!-- Transmission references -->
    <link href="/css/default.css" rel="stylesheet" />
    <script src="/js/default.js"></script>
    <script src="/js/app.js"></script>
    <script src="/js/services/local-settings-service.js"></script>
    <script src="/js/services/remote-service.js"></script>
    <script src="/js/services/torrent-service.js"></script>
    <script src="/js/services/status-service.js"></script>
    <script src="/js/directives/active-link-directive.js"></script>
    <script src="/js/controllers/main-controller.js"></script>
    <script src="/js/controllers/tree-controller.js"></script>
    <script src="/js/controllers/torrent-controller.js"></script>
    <script src="/js/controllers/stats-controller.js"></script>
</head>
<body ng-controller="MainController">
    <div class="left-sidebar" ng-controller="TreeController">
        <header>
            <h2>Server name</h2>
        </header>
        <section>
            <ul class="selection-list">
                <li>
                    <a href="#/status/all" active-link>All torrents ({{torrents.length}})</a>
                </li>
                <li>
                    <a href="#/status/downloading" active-link>Downloading ({{(torrents|filter:downloading).length}})</a>
                </li>
                <li>
                    <a href="#/status/active" active-link>Active ({{(torrents|filter:active).length}})</a>
                </li>
                <li>
                    <a href="#/status/inactive" active-link>Inactive ({{(torrents|filter:inactive).length}})</a>
                </li>
                <li>
                    <a href="#/status/stopped" active-link>Stopped ({{(torrents|filter:stopped).length}})</a>
                </li>
                <li>
                    <a href="#/status/error" active-link>Error ({{(torrents|filter:error).length}})</a>
                </li>
            </ul>
        </section>
        <section>
            <h4>Folders</h4>
            <ul class="selection-list">
                <li><a href="#/completed" active-link>completed</a></li>
            </ul>
        </section>
        <section>
            <h4>Trackers</h4>
            <ul class="selection-list">
                <li><a href="#/tracker1" active-link>Tracker 1</a></li>
                <li><a href="#/tracker2" active-link>Tracker 2</a></li>
            </ul>
        </section>
    </div>
    <div class="main-content">
        <header class="filters">
            <progress class="win-ring"></progress>
        </header>
        <div class="torrent-content" ng-controller="TorrentController">
            <div id="torrent-template" data-win-control="WinJS.Binding.Template">
                <div class="row">
                    <div class="pull-right">
                        <progress data-win-bind="value:percentDone"></progress>
                    </div>
                    <div data-win-bind="innerText:name"></div>
                    <div data-win-bind="innerText:id"></div>
                </div>
                <div class="row">
                    <div class="pull-right">
                        UL: <span data-win-bind="innerText:rateUpload"></span> bytes/sec
                    </div>
                    <div data-win-bind="innerText:status"></div>
                </div>
                <div class="row">
                    <div class="pull-right">
                        DL: <span data-win-bind="innerText:rateDownload"></span> bytes/sec
                    </div>
                    <div>
                        seeds: xxx / peers: xxx
                    </div>
                </div>
            </div>   
            <div id="basicListView" data-win-control="WinJS.UI.ListView"
                 data-win-options="{itemDataSource : TorrentList.torrents.dataSource,
                                    itemTemplate: select('#torrent-template'),
                                    layout: {type: WinJS.UI.ListLayout},
                                    itemsReorderable: true}">
            </div>
        </div>
    </div>
</body>
</html>
